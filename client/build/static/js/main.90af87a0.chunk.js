(this["webpackJsonpunified-club-portal"]=this["webpackJsonpunified-club-portal"]||[]).push([[0],{141:function(e,t,a){},142:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c),i=(a(141),a(142),a(19)),o=a(17),l=a(7),u=a.n(l),d=a(10),j=a(25),b=a(16),p=a(8),x=a(226),h=a(204),m=a(199),O=a(227),g=a(205),f=a(220),v=a(73),y=a.n(v),w=a(53),C=a(194),S=a(198),k="http://localhost:5000",N=k+"/auth/signin",I=k+"/club",T=k+"/event",F=k+"/event/feedback",E={.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"},_=a(1),P=Object(n.createContext)(),D=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(p.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!0),o=Object(p.a)(i,2),l=o[0],j=o[1],b=Object(n.useState)(null),x=Object(p.a)(b,2),h=x[0],m=x[1],O=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage.getItem("token"),a=window.localStorage.getItem("user"),n=JSON.parse(a),!t){e.next=13;break}return j(!0),e.next=7,fetch("".concat("http://localhost:5000/auth/verifyToken","/").concat(t));case 7:r=e.sent,s(200===r.status),m(n),j(!1),e.next=14;break;case 13:s(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),Object(_.jsx)(P.Provider,{value:{authenticated:c,loading:l,setAuthState:s,user:h,setUser:m},children:t})},B=a(225),M=Object(C.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),G=function(e){var t=M(),a=e.messageContent,n=e.setMessagePopupState,c=r.a.useState(e.open),s=Object(p.a)(c,2),i=s[0],o=s[1];return Object(_.jsx)("div",{className:t.root,children:Object(_.jsx)(B.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i,autoHideDuration:3e3,onClose:function(e,t){"clickaway"!==t&&(o(!1),n(!1))},message:a})})};function W(){return Object(_.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear(),"."]})}var R=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),backgroundColor:"#fff",border:"1px solid #ddd",padding:"20px",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px",borderRadius:"10px",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"black"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"black","&:hover":{backgroundColor:"darkgreen"}}}}));function z(){var e=Object(o.g)(),t=Object(n.useContext)(P),a=t.setAuthState,c=t.setUser,s=R(),l=Object(n.useState)({email:"",password:""}),v=Object(p.a)(l,2),C=v[0],k=v[1],I=Object(n.useState)(!1),T=Object(p.a)(I,2),F=T[0],E=T[1],D=Object(n.useState)(""),B=Object(p.a)(D,2),M=B[0],z=B[1],U=function(e){var t=e.target.name,a=e.target.value;k(Object(b.a)(Object(b.a)({},C),{},Object(j.a)({},t,a)))},A=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)},t.next=4,fetch(N,r);case 4:if((s=t.sent).ok){t.next=16;break}return console.log("Response Status",s.status),t.t0=console,t.next=10,s.text();case 10:t.t1=t.sent,t.t0.log.call(t.t0,"Response Text",t.t1),z("Unable to log you in"),E(!0),t.next=24;break;case 16:return t.next=18,s.json();case 18:i=t.sent,window.localStorage.setItem("token",i.token),window.localStorage.setItem("user",JSON.stringify(i.user)),a(!0),c(i.user),setTimeout((function(){e.push("/clubs")}),500);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)(r.a.Fragment,{children:[F&&Object(_.jsx)(G,{open:F,messageContent:M,setMessagePopupState:E}),Object(_.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(_.jsx)(m.a,{}),Object(_.jsxs)("div",{className:s.paper,children:[Object(_.jsx)(x.a,{className:s.avatar,children:Object(_.jsx)(y.a,{})}),Object(_.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(_.jsxs)("form",{className:s.form,noValidate:!0,children:[Object(_.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:U}),Object(_.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:U}),Object(_.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,onClick:A,children:"Sign In"}),Object(_.jsx)(g.a,{container:!0,children:Object(_.jsx)(g.a,{item:!0,children:Object(_.jsx)(i.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(_.jsx)(f.a,{mt:8,children:Object(_.jsx)(W,{})})]})]})}var U=a(4),A=a(224),L=a(209),q=a(210),H=a(203),J=a(212),Y=a(211),V=a(112),K=a.n(V),Q=a(114),X=a.n(Q),Z=a(113),$=a.n(Z),ee=a(156),te=a(206),ae=a(207),ne=a(109),re=a.n(ne),ce=a(110),se=a.n(ce),ie=a(111),oe=a.n(ie),le=function(e){var t=Object(n.useContext)(P).user;return Object(_.jsxs)("div",{children:[Object(_.jsxs)(ee.a,{button:!0,component:i.b,to:"/clubs",children:[Object(_.jsx)(te.a,{children:Object(_.jsx)(re.a,{})}),Object(_.jsx)(ae.a,{primary:"Clubs"})]}),"admin"===t.role&&Object(_.jsxs)(ee.a,{button:!0,component:i.b,to:"/club/form/new",children:[Object(_.jsx)(te.a,{children:Object(_.jsx)(se.a,{})}),Object(_.jsx)(ae.a,{primary:"New Club"})]}),"participant"===t.role&&Object(_.jsxs)(ee.a,{button:!0,component:i.b,to:"/user/events",children:[Object(_.jsx)(te.a,{children:Object(_.jsx)(oe.a,{})}),Object(_.jsx)(ae.a,{primary:"My Events"})]})]})},ue=Object(_.jsx)("div",{}),de=a(208),je=Object(C.a)((function(e){var t;return{root:{display:"flex"},toolbar:{paddingRight:"10px"},toolbarIcon:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"black"},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:0},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#eee"},drawerPaperClose:(t={overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},Object(j.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)}),Object(j.a)(t,"backgroundColor","#fff"),t),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function be(e){var t=Object(o.g)(),a=Object(n.useContext)(P),c=a.setAuthState,s=a.setUser,i=a.user,l=a.loading,u=e.component,d=je(),j=r.a.useState(!0),b=Object(p.a)(j,2),x=b[0],h=b[1];return Object(_.jsx)(r.a.Fragment,{children:l?Object(_.jsx)(de.a,{}):Object(_.jsx)(r.a.Fragment,{children:Object(_.jsxs)("div",{className:d.root,children:[Object(_.jsx)(L.a,{position:"absolute",className:Object(U.a)(d.appBar,x&&d.appBarShift),children:Object(_.jsxs)(q.a,{className:d.toolbar,children:[Object(_.jsx)(Y.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){h(!0)},className:Object(U.a)(d.menuButton,x&&d.menuButtonHidden),children:Object(_.jsx)(K.a,{})}),Object(_.jsx)(w.a,{component:"h4",variant:"h4",color:"inherit",noWrap:!0,className:d.title,children:"Unified Club Portal"}),Object(_.jsxs)(Y.a,{color:"inherit",children:[Object(_.jsx)($.a,{}),Object(_.jsxs)(w.a,{component:"h6",variant:"h6",color:"inherit",noWrap:!0,className:d.title,children:["Hello, ",i.name,"!"]})]}),Object(_.jsx)(Y.a,{color:"inherit",onClick:function(){c(!1),s(null),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),t.push("/signin")},children:Object(_.jsx)(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:d.title,children:"Logout"})})]})}),Object(_.jsxs)(A.a,{variant:"permanent",classes:{paper:Object(U.a)(d.drawerPaper,!x&&d.drawerPaperClose)},open:x,children:[Object(_.jsx)("div",{className:d.toolbarIcon,children:Object(_.jsx)(Y.a,{onClick:function(){h(!1)},children:Object(_.jsx)(X.a,{})})}),Object(_.jsx)(J.a,{}),Object(_.jsx)(H.a,{children:Object(_.jsx)(le,{})}),Object(_.jsx)(J.a,{}),Object(_.jsx)(H.a,{children:ue})]}),Object(_.jsxs)("main",{className:d.content,children:[Object(_.jsx)("div",{className:d.appBarSpacer}),Object(_.jsx)(S.a,{maxWidth:"lg",className:d.container,children:Object(_.jsx)(u,{})})]})]})})})}function pe(){return Object(_.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear(),"."]})}var xe=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),backgroundColor:"#eff",border:"1px solid #ddd",padding:"20px",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px",borderRadius:"10px",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function he(){var e=Object(o.g)(),t=Object(n.useContext)(P),a=t.setAuthState,c=t.setUser,s=xe(),l=Object(n.useState)({email:"",password:""}),v=Object(p.a)(l,2),C=v[0],k=v[1],I=Object(n.useState)(!1),T=Object(p.a)(I,2),F=T[0],E=T[1],D=Object(n.useState)(""),B=Object(p.a)(D,2),M=B[0],W=B[1],R=function(e){var t=e.target.name,a=e.target.value;k(Object(b.a)(Object(b.a)({},C),{},Object(j.a)({},t,a)))},z=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)},t.next=4,fetch(N,r);case 4:if((s=t.sent).ok){t.next=16;break}return console.log("Response Status",s.status),t.t0=console,t.next=10,s.text();case 10:t.t1=t.sent,t.t0.log.call(t.t0,"Response Text",t.t1),W("Unable to log you in"),E(!0),t.next=24;break;case 16:return t.next=18,s.json();case 18:i=t.sent,window.localStorage.setItem("token",i.token),window.localStorage.setItem("user",JSON.stringify(i.user)),a(!0),c(i.user),setTimeout((function(){e.push("/clubs")}),500);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)(r.a.Fragment,{children:[F&&Object(_.jsx)(G,{open:F,messageContent:M,setMessagePopupState:E}),Object(_.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(_.jsx)(m.a,{}),Object(_.jsxs)("div",{className:s.paper,children:[Object(_.jsx)(x.a,{className:s.avatar,children:Object(_.jsx)(y.a,{})}),Object(_.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(_.jsxs)("form",{className:s.form,noValidate:!0,children:[Object(_.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:R}),Object(_.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:R}),Object(_.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,onClick:z,children:"Sign In"}),Object(_.jsx)(g.a,{container:!0,children:Object(_.jsx)(g.a,{item:!0,children:Object(_.jsx)(i.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(_.jsx)(f.a,{mt:8,children:Object(_.jsx)(pe,{})})]})]})}var me=a(119),Oe=function(e){var t=e.component,a=Object(me.a)(e,["component"]),r=Object(n.useContext)(P);return Object(_.jsx)("div",{children:null==r.authenticated&&r.loading?Object(_.jsx)(de.a,{}):Object(_.jsx)(o.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){var a=e.location;return r.authenticated?Object(_.jsx)(t,{}):Object(_.jsx)(o.a,{to:{pathname:"/signin",state:{from:a}}})}}))})},ge=a(228),fe=function(){return window.localStorage.getItem("token")},ve=function(e){return!e||0===e.length},ye=function(e){return!e||/^\s*$/.test(e)},we=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fe(),a={method:"GET",headers:{"Content-Type":"application/json",authorization:"".concat(t)}},e.next=4,fetch("http://localhost:5000/clubs",a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",{status:n.status,data:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",authorization:"".concat(a)},body:JSON.stringify(t)},e.next=4,fetch(I,n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",{status:r.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"GET",headers:{"Content-type":"application/json",authorization:"".concat(a)}},r="".concat(I,"/").concat(t),e.next=5,fetch(r,n);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(),r={method:"PUT",headers:{"Content-type":"application/json",authorization:"".concat(n)},body:JSON.stringify({userId:t,clubId:a})},e.next=4,fetch("http://localhost:5000/club/enroll",r);case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(),r={method:"PUT",headers:{"Content-type":"application/json",authorization:"".concat(n)},body:JSON.stringify({userId:t,clubId:a})},e.next=4,fetch("http://localhost:5000/club/leave",r);case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(e){var t=e.name,a=e.desc,n=e.memberCapacity,r=e.clubType,c=[];return(ve(t)||ye(t))&&c.push("Name cannot be blank"),(ve(a)||ye(a))&&c.push("Description cannot be blank"),n<=10&&c.push("Member Capacity must be greater than 10"),(ve(r)||ye(r))&&c.push("Club Type cannot be blank"),c},Te=a(213),Fe=a(214),Ee=a(215),_e=a(216),Pe=a(217),De=a(78),Be=a(115),Me=a.n(Be),Ge=Object(C.a)((function(e){return{root:{margin:"10px",borderRadius:"16px",transition:"0.3s",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},media:{height:0,paddingTop:"56.25%","&:hover":{cursor:"pointer"}},go_to:{marginLeft:"auto",border:"1px solid darkgrey",color:"darkblue"},avatar:{backgroundColor:De.a[500],marginRight:"0"},title:{display:"flex"}}})),We=function(e){var t=Object(o.g)(),a=Ge(),n=e.club,r=n.name,c=n.desc,s=n._id,i=function(){setTimeout((function(){t.push("/club/".concat(s))}),500)},l="";switch(n.clubType){case"Music":l="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Musical_notes.svg/1280px-Musical_notes.svg.png";break;case"Sports":l="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Sport_balls.svg/1200px-Sport_balls.svg.png";break;case"SelfImprov":l='"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjZfVulolQIcCtP-m2OpHUW90cHenKKY8byg&usqp=CAU';break;case"Fun":l="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMvw26w2i8FfL7_Kr4tZ3CqBOXHLVovHyJDQ&usqp=CAU";break;default:l="https://thumbs.dreamstime.com/z/neon-sign-word-club-dark-background-background-your-design-greeting-card-banner-neon-sign-word-club-dark-150811899.jpg"}return Object(_.jsx)(f.a,{className:a.root,children:Object(_.jsxs)(Te.a,{children:[Object(_.jsx)(Fe.a,{classes:{title:a.title},avatar:Object(_.jsx)(x.a,{"aria-label":"recipe",className:a.avatar,children:r[0]}),title:r}),Object(_.jsx)(Ee.a,{className:a.media,image:l,title:"Club",onClick:i}),Object(_.jsx)(_e.a,{style:{textAlign:"left"},children:Object(_.jsx)(w.a,{variant:"h6",color:"textSecondary",component:"p",children:c})}),Object(_.jsx)(Pe.a,{disableSpacing:!0,children:Object(_.jsx)(Y.a,{"aria-label":"go to club",className:a.go_to,color:"secondary",size:"medium",onClick:i,children:Object(_.jsx)(Me.a,{})})})]})})},Re=Object(C.a)((function(e){return Object(ge.a)({root:{flexGrow:1,display:"flex",justifyContent:"center"},control:{padding:e.spacing(2)},grid_card:{padding:"10px"}})}));function ze(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(p.a)(l,2),b=j[0],x=j[1],h=Object(n.useState)(""),m=Object(p.a)(h,2),O=m[0],f=m[1],v=Re();return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:200===(t=e.sent).status?(r(t.data.data),o(!1)):500===t.status&&(console.log(t.data.errors),f("Internal Server Error"),x(!0),o(!1));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(_.jsx)("div",{children:i?Object(_.jsx)(de.a,{}):Object(_.jsxs)(_.Fragment,{children:[b&&Object(_.jsx)(G,{open:b,messageContent:O,setMessagePopupState:x}),Object(_.jsx)("div",{children:Object(_.jsx)(g.a,{className:v.root,container:!0,justify:"center",children:a.map((function(e){return Object(_.jsx)(g.a,{item:!0,xs:12,md:3,children:Object(_.jsx)("div",{className:v.grid_card,children:Object(_.jsx)(We,{club:e})},e.id)},"innerGrid-".concat(e._id))}))},"outerGrid")})]})})}var Ue=a(230),Ae=a(221),Le=a(218),qe=a(202),He=Object(C.a)((function(e){return{appBar:{position:"relative"},root:{minWidth:275},layout:Object(j.a)({width:"auto",marginLeft:e.spacing(2),marginTop:e.spacing(5),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{margin:e.spacing(0),minWidth:120}}})),Je=function(e){var t=Object(o.g)(),a=He(),c=Object(n.useState)({name:"",desc:"",memberCapacity:null,clubType:"",members:[],otheClubType:"",events:[]}),s=Object(p.a)(c,2),i=s[0],l=s[1],x=Object(n.useState)(!1),m=Object(p.a)(x,2),f=m[0],v=m[1],y=Object(n.useState)(""),C=Object(p.a)(y,2),S=C[0],k=C[1],N=Object(n.useState)(!1),I=Object(p.a)(N,2),T=I[0],F=I[1],E=Object(n.useState)(!0),P=Object(p.a)(E,2),D=P[0],B=P[1],M=Object(o.h)().id;Object(n.useEffect)((function(){"new"!==M&&null!==M&&void 0!==M&&""!==M?(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Se(M);case 3:200===(t=e.sent).status?(l(t.data.data),B(!1)):412===t.status?(k(t.data.message),v(!0)):500===t.status&&(console.log(t.data.errors),k("Internal Server Error"),v(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(M),F(!0)):B(!1)}),[]);var W=function(e){var t=e.target.name,a=e.target.value;l(Object(b.a)(Object(b.a)({},i),{},Object(j.a)({},t,a)))},R=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c,s,o,l,d,j,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.name,n=i.desc,r=i.memberCapacity,c=i.clubType,s=i.members,o=i.otherClubType,l=(ye(c)||ve(c))&&""!==o?o:c,0!==(j=Ie(d={name:a,desc:n,memberCapacity:r,clubType:l,members:s})).length){e.next=12;break}return T&&(d._id=M),e.next=8,Ce(d);case 8:201===(b=e.sent).status?(console.log("Club Creation successfull"),k("Club Creation Successfull"),v(!0),z()):500===b.status&&(console.log(b.data.errors),k("Internal Server Error"),v(!0)),e.next=15;break;case 12:console.log(j[0]),k(j[0]),v(!0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){setTimeout((function(){t.push("/clubs")}),500)},U=i.name,A=i.desc,L=i.memberCapacity,q=i.clubType;return Object(_.jsx)(r.a.Fragment,{children:D?Object(_.jsx)(de.a,{}):Object(_.jsxs)("div",{children:[f&&Object(_.jsx)(G,{open:f,messageContent:S,setMessagePopupState:v}),Object(_.jsx)("main",{className:a.layout,children:Object(_.jsxs)(Te.a,{className:a.root,variant:"outlined",children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(w.a,{component:"h1",variant:"h4",align:"center",color:"primary",children:"".concat(T?"Update":"New"," Club")}),Object(_.jsxs)(g.a,{container:!0,spacing:3,children:[Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{required:!0,value:U,id:"name",name:"name",label:"Club Name",fullWidth:!0,autoComplete:"given-name",onChange:W})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{required:!0,value:A,id:"desc",name:"desc",label:"Description",fullWidth:!0,autoComplete:"shipping address-line1",onChange:W})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{value:L,id:"capacity",name:"memberCapacity",label:"Member Capacity",fullWidth:!0,autoComplete:"shipping address-line2",onChange:W})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsxs)(qe.a,{className:a.formControl,fullWidth:!0,children:[Object(_.jsx)(Ue.a,{id:"demo-simple-select-label",children:"Type"}),Object(_.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:q,onChange:W,name:"clubType",className:a.formControl,children:[Object(_.jsx)(Le.a,{value:"Work",children:"Work"}),Object(_.jsx)(Le.a,{value:"Fun",children:"Fun"}),Object(_.jsx)(Le.a,{value:"Sports",children:"Sports"}),Object(_.jsx)(Le.a,{value:"Music",children:"Music"}),Object(_.jsx)(Le.a,{value:"Love",children:"Love"}),Object(_.jsx)(Le.a,{value:"SelfImprov",children:"Self Improvment"}),Object(_.jsx)(Le.a,{value:"Other",children:"Other"})]}),"Other"===i.otherClubType?Object(_.jsx)(O.a,{autoFocus:!0,margin:"dense",fullWidth:!0,value:i.otherCategory,name:"otherClubType",label:"Catogory",id:"other cateogry",required:!0}):null]})})]})]}),Object(_.jsxs)(Pe.a,{children:[Object(_.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(_.jsxs)(h.a,{variant:"contained",onClick:T?function(){setTimeout((function(){t.push("/club/".concat(i._id))}),500)}:z,children:["Back to ","".concat(T?"Club":"Dashboard")]})}),Object(_.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(_.jsx)(h.a,{variant:"contained",color:"primary",onClick:R,children:"Create"})})]})]})})]})})},Ye=Object(C.a)({root:{textAlign:"center",boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ve=function(e){var t=Ye(),a=e.club;return Object(_.jsx)(r.a.Fragment,{children:Object(_.jsx)(Te.a,{className:t.root,variant:"outlined",children:Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(w.a,{component:"h3",variant:"h4",color:"primary",children:a.name},"name"),Object(_.jsx)(w.a,{variant:"h5",component:"p",color:"secondary",className:t.pos,children:a.desc},"desc"),Object(_.jsxs)(w.a,{variant:"h6",style:{color:"darkslategrey"},children:["Capacity : ",a.memberCapacity]},"memberCapacity"),Object(_.jsxs)(w.a,{variant:"h6",style:{color:"darkslategrey"},children:[Object(_.jsx)("i",{children:"Enrolled"})," ",Object(_.jsx)("b",{children:a.members.length})]})]})})})},Ke=a(219),Qe=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"POST",headers:{"content-type":"application/json",authorization:"".concat(a)},body:JSON.stringify({ids:t})},e.next=4,fetch("http://localhost:5000/user/userList",n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=Object(C.a)((function(e){return{root:{maxWidth:"250px",backgroundColor:e.palette.background.paper,margin:"10px",borderRadius:"10px",padding:"10px",boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"inline-flex",alignItems:"center"},inline:{display:"inline"},avatar:{backgroundColor:De.a[500]},listItem:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},questionFieldStyling:{margin:"0 0 20px 0",color:"#009688"}}})),Ze=function(e){var t=Xe(),a=e.ids,c=Object(n.useState)(),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(!0),j=Object(p.a)(l,2),b=j[0],h=j[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Qe(a||[]);case 3:!0===(t=e.sent).success?(o(t.data),h(!1)):console.log("Error",t.errors);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(_.jsx)(r.a.Fragment,{children:b?Object(_.jsx)(de.a,{}):Object(_.jsxs)(Te.a,{className:t.listItem,children:[Object(_.jsx)(Fe.a,{title:e.titleText}),i.length>0?Object(_.jsx)(H.a,{children:i.map((function(e){return Object(_.jsxs)(ee.a,{className:t.root,alignItems:"flex-start",children:[Object(_.jsx)(Ke.a,{children:Object(_.jsx)(x.a,{"aria-label":"recipe",className:t.avatar,children:e.name[0]})}),Object(_.jsx)(ae.a,{primary:e.name})]},e._id)}))}):Object(_.jsx)("div",{className:t.questionFieldStyling,children:Object(_.jsx)(w.a,{component:"h5",variant:"h5",children:e.emptyText},"name")})]})})},$e=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c,s,i,o,l,d,j,b,p,x,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n=new FormData,(r=new Headers).append("authorization","".concat(a)),c=t.name,s=t.desc,i=t.from,o=t.to,l=t.eventPoster,d=t.capacity,j=t.clubId,b=t.venue,n.append("file",l),n.append("name",c),n.append("clubId",j),n.append("desc",s),n.append("from",i),n.append("to",o),n.append("capacity",d),n.append("venue",b),t._id&&n.append("_id",t._id),p={method:"POST",headers:r,body:n},e.next=17,fetch(T,p);case 17:return x=e.sent,e.next=20,x.json();case 20:return h=e.sent,e.abrupt("return",{status:x.status,data:h});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"POST",headers:{"content-type":"application/json",authorization:"".concat(a)},body:JSON.stringify({ids:t})},e.next=4,fetch("http://localhost:5000/events/list",n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",{status:r.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"GET",headers:{"content-type":"application/json",authorization:"".concat(a)}},r="".concat(T,"/").concat(t),e.next=5,fetch(r,n);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(),r={method:"POST",headers:{"content-type":"application/json",authorization:"".concat(n)},body:JSON.stringify({userId:t,eventId:a})},e.next=4,fetch("http://localhost:5000/event/register",r);case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(e){var t=e.name,a=e.desc,n=e.capacity,r=e.from,c=e.to,s=e.venue,i=[];((ye(t)||ve(t))&&i.push("Name Cannot be Blank"),(ye(a)||ve(a))&&i.push("Description Cannot be Blank"),(ye(s)||ve(s))&&i.push("Venue Cannot be Blank"),n<=1&&i.push("Capacity must be greater than 1"),c&&r)?new Date(c).getTime()<new Date(r).getTime()&&i.push("Date must be after start date"):i.push("Field Cannot be empty");return i},rt=function(e,t){var a=(new Date).getTime(),n=new Date(e).getTime(),r=new Date(t).getTime();return a+72e5>=n&&a+72e5<r?0:a+72e5<n?-1:a>r?2:a>n&&a<r?1:void 0},ct=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"POST",headers:{"content-type":"application/json",authorization:"".concat(a)},body:JSON.stringify(t)},e.next=4,fetch(F,n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",{status:r.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(),r={method:"GET",headers:{"content-type":"application/json",authorization:"".concat(n)}},c="".concat(F,"/").concat(t,"/").concat(a),e.next=5,fetch(c,r);case 5:return s=e.sent,e.next=8,s.json();case 8:return i=e.sent,e.abrupt("return",{status:s.status,data:i});case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),it=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"GET",headers:{"content-type":"application/json",authorization:"".concat(a)}},r="".concat(F,"/").concat(t),e.next=5,fetch(r,n);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(e){var t=[];return e.comments.length>200&&t.push("Please keep comments under 200 words..."),t},lt=a(231),ut=a(223),dt=Object(C.a)({card:{display:"flex",border:"1px solid #ddd",margin:"10px 5px",boxShadow:"none"},cardDetails:{flex:1,display:"flex",textAlign:"left",justifyContent:"flex-start"},cardMedia:{width:250},cardAction:{"&hover":{backgroundColor:"transparent"}},chip_start:{backgroundColor:"green",marginBottom:"10px"},chip_end:{backgroundColor:"red",marginBottom:"10px"}});function jt(e){var t=dt(),a=e.event,n=a.name,r=a.desc,c=a.capacity,s=a.from,i=a.to,o=rt(s,i),l="UPCOMING",u=2===o?t.chip_end:t.chip_start;1===o?l="ON-GOING":2===o&&(l="ENDED");var d=new Date(s),j="".concat(d.getDate(),"/").concat(d.getMonth(),"/").concat(d.getFullYear()," ").concat(d.getHours(),":").concat(d.getMinutes()),b=new Date(i),p="".concat(b.getDate(),"/").concat(b.getMonth(),"/").concat(b.getFullYear()," ").concat(b.getHours(),":").concat(b.getMinutes()," ");return Object(_.jsx)(g.a,{item:!0,children:Object(_.jsxs)(Te.a,{className:t.card,children:[Object(_.jsx)("div",{className:t.cardDetails,children:Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(w.a,{component:"h2",variant:"h5",children:n}),Object(_.jsxs)(w.a,{variant:"subtitle1",color:"textSecondary",children:[j," to ",p]}),Object(_.jsxs)(w.a,{variant:"subtitle1",paragraph:!0,children:[r,Object(_.jsx)("br",{}),"Capacity: ",c]}),Object(_.jsx)(lt.a,{color:"secondary",size:"small",label:l,className:u})]})}),Object(_.jsx)(ut.a,{xsDown:!0,children:Object(_.jsx)(Ee.a,{className:t.cardMedia,image:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/zoom-background%2C-event%2Cpresentation-design-template-69f11bda0c4d7c9ccb155035a05493d9_screen.jpg?ts=1598358685",title:n})})]})})}var bt=Object(C.a)((function(e){return{card:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},root:{margin:"auto"},inline:{display:"inline"},avatar:{backgroundColor:De.a[500]},questionFieldStyling:{margin:"0 0 20px 0",color:"#009688"}}})),pt=function(e){var t=bt(),a=Object(o.g)(),c=e.ids,s=Object(n.useState)(),i=Object(p.a)(s,2),l=i[0],j=i[1],b=Object(n.useState)(!0),x=Object(p.a)(b,2),m=x[0],O=x[1],g=Object(n.useState)(!1),f=Object(p.a)(g,2),v=f[0],y=f[1],C=Object(n.useState)(""),S=Object(p.a)(C,2),k=S[0],N=S[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,et(c||[]);case 3:200===(t=e.sent).status?(j(t.data.data),O(!1)):500===t.status&&(console.log(t.data.errors[0]),N("Internal Server Error"),N(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);return Object(_.jsx)(r.a.Fragment,{children:m?Object(_.jsx)(de.a,{}):Object(_.jsxs)("div",{children:[v&&Object(_.jsx)(G,{open:v,messageContent:k,setMessagePopupState:y}),Object(_.jsxs)(Te.a,{className:t.card,children:[Object(_.jsx)(Fe.a,{title:"Events"}),l.length>0?Object(_.jsx)(H.a,{className:t.root,children:l.map((function(e){return Object(_.jsx)(ee.a,{alignItems:"flex-start",children:Object(_.jsx)(h.a,{onClick:function(){var t;t=e._id,a.push("/event/".concat(t))},children:Object(_.jsx)(jt,{event:e})})},e._id)}))}):Object(_.jsx)("div",{className:t.questionFieldStyling,children:Object(_.jsx)(w.a,{component:"h5",variant:"h5",children:"Coming soon!"},"name")})]})]})})},xt=a(116),ht=a.n(xt),mt=a(75),Ot=a.n(mt),gt=a(117),ft=a.n(gt),vt=a(76),yt=a.n(vt),wt=Object(C.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},buttonGroup:{display:"flex",justifyContent:"flex-start",margin:"10px 0 25px"},enrollButton:{marginRight:"5px",backgroundColor:"purple"},editButton:{marginRight:"5px",backgroundColor:"darkorange",color:"white","&:hover":{color:"black",backgroundColor:"orange"}},orgEventButton:{marginRight:"5px",backgroundColor:"darkgreen",color:"white","&:hover":{color:"black",backgroundColor:"lightgreen"}},control:{padding:e.spacing(2)}}})),Ct=function(e){var t=Object(n.useContext)(P).user,a=Object(o.h)().id,c=wt(),s=Object(o.g)(),i=Object(n.useState)(),l=Object(p.a)(i,2),j=l[0],b=l[1],x=Object(n.useState)(!0),m=Object(p.a)(x,2),O=m[0],f=m[1],v=Object(n.useState)(!1),y=Object(p.a)(v,2),w=y[0],C=y[1],S=Object(n.useState)(""),k=Object(p.a)(S,2),N=k[0],I=k[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Se(a);case 3:200===(t=e.sent).status?(b(t.data.data),f(!1)):t.message?window.alert(t.message):500===t.status&&(console.log(t.data.errors),I("Internal Server Error"),C(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var T=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t._id,a);case 2:200===(n=e.sent).status?(b(n.data.data),I("Enrolled Successfully"),C(!0)):500===n.status?(console.log(n.data.errors),I("Inernal Server Error"),C(!0)):412===n.status&&(console.log(n.data.message),I(n.data.message),C(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("user"),n=JSON.parse(t),e.next=4,Ne(n._id,a);case 4:200===(r=e.sent).status?(b(r.data.data),I("You have left the club"),C(!0)):500===r.status&&(console.log(r.data.errors),I("Inernal Server Error"),C(!0));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(null===j||void 0===j?void 0:j.members.includes(t._id))?{handler:F,startIcon:Object(_.jsx)(ht.a,{}),text:"Leave"}:{handler:T,startIcon:Object(_.jsx)(Ot.a,{}),text:"Enroll"};return Object(_.jsxs)(r.a.Fragment,{children:[w&&Object(_.jsx)(G,{open:N,messageContent:N,setMessagePopupState:C}),O?Object(_.jsx)(de.a,{}):Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(g.a,{container:!0,className:c.root,children:[Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(g.a,{container:!0,justifyContent:"center",spacing:5,alignItems:"center",children:Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(Ve,{club:j})},"club-info")})}),Object(_.jsxs)(g.a,{container:!0,item:!0,className:c.buttonGroup,children:["participant"===t.role&&Object(_.jsx)(h.a,{variant:"contained",color:"secondary",className:c.enrollButton,onClick:E.handler,startIcon:E.startIcon,children:E.text}),"admin"===t.role&&Object(_.jsx)(h.a,{variant:"contained",startIcon:Object(_.jsx)(ft.a,{}),className:c.orgEventButton,onClick:function(){s.push("/event/new/".concat(j._id,"/new"))},children:"Organize an Event"}),"admin"===t.role&&Object(_.jsx)(h.a,{variant:"contained",startIcon:Object(_.jsx)(yt.a,{}),className:c.editButton,onClick:function(){s.push("/club/form/".concat(j._id))},children:"Edit Club"})]}),Object(_.jsxs)(g.a,{container:!0,item:!0,className:c.root,spacing:3,children:[Object(_.jsx)(g.a,{item:!0,xs:6,children:Object(_.jsx)(Ze,{ids:j.members,titleText:"Registered Members",emptyText:"Enroll Now!"})}),Object(_.jsx)(g.a,{item:!0,xs:6,children:Object(_.jsx)(pt,{xs:12,ids:j.events,club:j})})]})]})})]})},St=a(118),kt=a.n(St),Nt=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(),n={method:"GET",headers:{"content-type":"application/json",authorization:"".concat(a)}},r="".concat("http://localhost:5000/resource","/").concat(t),e.next=5,fetch(r,n);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",{status:c.status,data:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=Object(C.a)((function(e){return{appBar:{position:"relative"},root:{minWidth:275},layout:Object(j.a)({width:"auto",marginLeft:e.spacing(2),marginTop:e.spacing(5),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{margin:e.spacing(0),minWidth:120},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:250},input:{display:"none"},image:{width:"100%",height:"300px",margin:"auto",flexGrow:1}}})),Tt=function(e){var t=Object(o.g)(),a=It(),c=Object(o.h)(),s=c.clubId,i=c.eventId,l=Object(n.useState)({name:"",desc:"",capacity:0,participants:[],to:null,from:null,eventPoster:null,venue:"",clubId:s}),x=Object(p.a)(l,2),m=x[0],f=x[1],v=Object(n.useState)(null),y=Object(p.a)(v,2),C=y[0],S=y[1],N=Object(n.useState)(!0),I=Object(p.a)(N,2),T=I[0],F=I[1],E=Object(n.useState)(!1),P=Object(p.a)(E,2),D=P[0],B=P[1],M=Object(n.useState)(!1),W=Object(p.a)(M,2),R=W[0],z=W[1],U=Object(n.useState)(""),A=Object(p.a)(U,2),L=A[0],q=A[1];Object(n.useEffect)((function(){"new"!==i&&null!==i&&void 0!==i&&""!==i?(function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,tt(t);case 3:if(200!==(a=e.sent).status){e.next=15;break}if(f(a.data.data),!((n=a.data.data.publicFiles).length>0)){e.next=12;break}return e.next=10,Nt(n[0]._id);case 10:200===(r=e.sent).status?(c=r.data.data.path,S("".concat(k,"/").concat(c))):500===r.status&&(console.log(r.errors),q("Failed to Load resource"),z(!0));case 12:F(!1),e.next=16;break;case 15:404===a.status?(q("Entity Not Found"),z(!0)):500===a.status&&(console.log(a.errors),q("Internal Server Error"),z(!0));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(i),B(!0)):F(!1)}),[]);var H=function(e){var t=e.target.name,a=e.target.value;f(Object(b.a)(Object(b.a)({},m),{},Object(j.a)({},t,a)))},J=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=nt(m)).length){e.next=10;break}return D&&f(Object(b.a)(Object(b.a)({},m),{},{_id:i})),e.next=5,$e(m);case 5:n=e.sent,console.log(n),201===n.status?(q("Event ".concat(D?"Updation":"Creation")),z(!0),V()):404===n.status?(q("Entity Not Found"),z(!0)):500===n.status&&(console.log(n.errors),q("Internal Server Error"),z(!0)),e.next=13;break;case 10:console.log(a[0]),q(a[0]),z(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){setTimeout((function(){t.push("/club/".concat(s))}),500)},K=m.name,Q=m.desc,X=m.from,Z=m.to,$=m.capacity,ee=m.venue;return Object(_.jsx)(r.a.Fragment,{children:T?Object(_.jsx)(de.a,{}):Object(_.jsxs)("div",{children:[R&&Object(_.jsx)(G,{open:R,messageContent:L,setMessagePopupState:z}),C&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("img",{className:a.image,src:C,alt:"event"})}),Object(_.jsx)("div",{className:a.layout,children:Object(_.jsxs)(Te.a,{className:a.root,variant:"outlined",children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(w.a,{component:"h1",variant:"h4",align:"center",color:"primary",children:"".concat(D?"Update":"New"," Event")}),Object(_.jsxs)(g.a,{container:!0,spacing:3,children:[Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{required:!0,value:K,id:"name",name:"name",label:"Event Name",fullWidth:!0,autoComplete:"given-name",onChange:H,autoFocus:!0})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{required:!0,value:Q,id:"desc",name:"desc",label:"Description",fullWidth:!0,autoComplete:"shipping address-line1",onChange:H})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{value:$,id:"capacity",name:"capacity",label:"Capacity",fullWidth:!0,autoComplete:"shipping address-line2",onChange:H})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{required:!0,value:ee,id:"venue",name:"venue",label:"Venue",fullWidth:!0,autoComplete:"shipping address-line1",onChange:H})}),Object(_.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(_.jsx)(O.a,{value:D?X.split(".")[0]:null,id:"date",label:"Start Date",name:"from",type:"datetime-local",className:a.textField,InputLabelProps:{shrink:!0},onChange:H})}),Object(_.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(_.jsx)(O.a,{value:D?Z.split(".")[0]:null,id:"date",label:"End Date",name:"to",type:"datetime-local",className:a.textField,InputLabelProps:{shrink:!0},onChange:H})}),!D&&Object(_.jsxs)(g.a,{item:!0,xs:12,children:[Object(_.jsx)("input",{className:a.input,id:"contained-button-file",type:"file",accept:".png, .jpg, .jpeg",name:"eventPoster",onChange:function(e){S(URL.createObjectURL(e.target.files[0])),f(Object(b.a)(Object(b.a)({},m),{},{eventPoster:e.target.files[0]}))}}),Object(_.jsx)("label",{htmlFor:"contained-button-file",children:Object(_.jsx)(h.a,{variant:"contained",color:"primary",component:"span",children:"Upload Event Poster"})})]}),C&&!D&&Object(_.jsx)(r.a.Fragment,{children:Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(Y.a,{"aria-label":"delete",className:a.margin,onClick:function(){S(null)},children:Object(_.jsx)(kt.a,{fontSize:"small"})})})})]})]}),Object(_.jsxs)(Pe.a,{children:[Object(_.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(_.jsx)(h.a,{variant:"contained",onClick:V,children:"Back to Club"})}),Object(_.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(_.jsx)(h.a,{variant:"contained",color:"primary",onClick:J,children:D?"Update":"Create"})})]})]})})]})})},Ft=Object(C.a)({root:{textAlign:"center",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},chip_start:{backgroundColor:"green",marginBottom:"10px"},chip_end:{backgroundColor:"red",marginBottom:"10px"}}),Et=function(e){var t=Ft(),a=e.event,n=a.name,c=a.desc,s=a.capacity,i=a.from,o=a.to,l=rt(i,o),u="UPCOMING",d=2===l?t.chip_end:t.chip_start;1===l?u="ON-GOING":2===l&&(u="ENDED");var j=new Date(i),b="".concat(j.getDate(),"/").concat(j.getMonth(),"/").concat(j.getFullYear(),"   ").concat(j.getHours(),":").concat(j.getMinutes()),p=new Date(o),x="".concat(p.getDate(),"/").concat(p.getMonth(),"/").concat(p.getFullYear(),"   ").concat(p.getHours(),":").concat(p.getMinutes()," ");return Object(_.jsx)(r.a.Fragment,{children:Object(_.jsx)(Te.a,{className:t.root,variant:"outlined",children:Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(w.a,{variant:"h4",color:"primary",children:n},"name"),Object(_.jsx)(w.a,{variant:"h5",color:"secondary",className:t.pos,children:c},"desc"),Object(_.jsxs)(w.a,{variant:"h6",style:{color:"darkslategrey"},children:["Capacity : ",s]},"memberCapacity"),Object(_.jsxs)(w.a,{variant:"h6",style:{color:"darkslategrey"},children:[Object(_.jsx)("i",{children:Object(_.jsx)("b",{children:b})})," ","to"," ",Object(_.jsx)("i",{children:Object(_.jsx)("b",{children:x})})]}),Object(_.jsx)(lt.a,{color:"secondary",size:"small",label:u,className:d})]})})})},_t=a(93),Pt=a.n(_t),Dt=a(232),Bt=Object(C.a)({root:{display:"flex",alignItems:"center",height:400,padding:"10px",border:"solid",borderColor:"#424242"},addHeight:{height:300},buttonStyling:{padding:"10px"},ratingStyling:{padding:"10px",margin:"auto"},textFieldStyling:{width:"600px",margin:"auto"},questionFieldStyling:{margin:"auto",color:"#009688"},ratingWidth:{width:"220px"}}),Mt=function(e){var t=Object(n.useContext)(P),a=Object(n.useState)(-1),c=Object(p.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!0),l=Object(p.a)(o,2),j=l[0],x=l[1],m=Bt(),v=Object(n.useState)(""),y=Object(p.a)(v,2),C=y[0],S=y[1],k=Object(n.useState)(!1),N=Object(p.a)(k,2),I=N[0],T=N[1],F=Object(n.useState)(!1),D=Object(p.a)(F,2),B=D[0],M=D[1],W=e.eventId,R=t.user,z=Object(n.useState)({value:2,comments:""}),U=Object(p.a)(z,2),A=U[0],L=U[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,st(R._id,W);case 3:200===(t=e.sent).status&&!0===t.data.success?(a=t.data.data,n=a.stars,r=a.comments,L({value:n,comments:r}),M(!0),x(!1)):500===t.status?(console.log(t.data.errors[0]),T("Internal Server Error"),T(!0)):200===t.status&&!1===t.data.success&&x(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var q=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={eventId:W,userId:R._id,stars:H,comments:J},0!==(a=ot(t)).length){e.next=9;break}return e.next=5,ct(t);case 5:201===(n=e.sent).status?(r=n.data.data,c=r.stars,s=r.comments,S("Feedback Submitted Successfully"),T(!0),L({value:c,comments:s}),M(!0)):409===n.status?(S("Your Feedback Already Exists"),T(!0)):500===n.status&&(console.log(n.data.errors),S("Internal Server Error"),T(!0)),e.next=12;break;case 9:console.log(a),S(a[0]),T(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=A.value,J=A.comments;return Object(_.jsx)(r.a.Fragment,{children:j?Object(_.jsx)(de.a,{}):Object(_.jsxs)(_.Fragment,{children:[I&&Object(_.jsx)(G,{open:I,messageContent:C,setMessagePopupState:T}),Object(_.jsx)(Te.a,{className:m.root,children:Object(_.jsxs)(g.a,{container:!0,spacing:3,children:[Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)("div",{className:m.questionFieldStyling,children:Object(_.jsx)(w.a,{component:"h4",variant:"h4",children:B?"Thank you for sharing your experience":"How was you Experience ? "},"name")})}),Object(_.jsx)("div",{className:m.ratingStyling,children:Object(_.jsxs)(g.a,{item:!0,container:!0,xs:12,children:[Object(_.jsx)(g.a,{item:!0,xs:6,children:Object(_.jsx)("div",{className:m.ratingWidth,children:Object(_.jsx)(Dt.a,{name:"hover-feedback",value:H,precision:.5,onChange:function(e,t){L(Object(b.a)(Object(b.a)({},A),{},{value:t}))},onChangeActive:function(e,t){i(t)},disabled:B})})}),Object(_.jsx)(g.a,{item:!0,xs:6,children:Object(_.jsx)(w.a,{component:"h6",variant:"h6",children:null!==H&&Object(_.jsx)(f.a,{ml:2,children:E[-1!==s?s:H]})},"name")})]})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)("div",{className:m.textFieldStyling,children:Object(_.jsx)(O.a,{id:"outlined-multiline-static",label:"Additional Comments",multiline:!0,rows:4,value:J,variant:"outlined",name:"comments",onChange:function(e){L(Object(b.a)(Object(b.a)({},A),{},{comments:e.target.value}))},disabled:B})})}),Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)("div",{className:m.buttonStyling,children:Object(_.jsx)(h.a,{variant:"contained",color:"primary",onClick:q,disabled:B,children:"Submit Feedback"})})})]})})]})})},Gt=Object(C.a)({card:{display:"flex",border:"1px solid #ddd",margin:"10px 5px",boxShadow:"none"},cardDetails:{flex:1,display:"flex",textAlign:"left",justifyContent:"flex-start"},cardMedia:{width:250},cardAction:{"&hover":{backgroundColor:"transparent"}},ratingValue:{margin:"18px",color:"#795548"},width:{width:"350px"}}),Wt=function(e){var t=Gt(),a=e.feedback,n=a.stars,r=a.comments;return Object(_.jsx)(g.a,{item:!0,children:Object(_.jsx)(Te.a,{className:t.card,children:Object(_.jsx)("div",{className:t.cardDetails,children:Object(_.jsxs)(_e.a,{children:[Object(_.jsx)("div",{className:t.ratingValue,children:Object(_.jsx)(w.a,{component:"h2",variant:"h5",children:E[n]})}),Object(_.jsx)("div",{className:t.width,children:Object(_.jsx)(O.a,{id:"outlined-multiline-static",label:"Additional Comments",multiline:!0,rows:4,value:r,variant:"outlined",name:"comments",disabled:!0})})]})})})})},Rt=Object(C.a)((function(e){return{card:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},root:{margin:"auto"},inline:{display:"inline"}}})),zt=function(e){var t=e.eventId,a=Rt(),r=Object(n.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(n.useState)(!0),l=Object(p.a)(o,2),j=l[0],b=l[1],x=Object(n.useState)(!1),h=Object(p.a)(x,2),m=h[0],O=h[1],f=Object(n.useState)(""),v=Object(p.a)(f,2),y=v[0],C=v[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,it(t);case 3:200===(a=e.sent).status?(i(a.data.data),b(!1)):500===a.status&&(C("Internal Server Error"),O(!0),b(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(_.jsx)("div",{children:j?Object(_.jsx)(de.a,{}):Object(_.jsxs)(_.Fragment,{children:[m&&Object(_.jsx)(G,{open:m,messageContent:y,setMessagePopupState:O}),Object(_.jsxs)("div",{children:[Object(_.jsx)(w.a,{component:"h2",variant:"h5",children:"Feedbacks"}),Object(_.jsx)(g.a,{className:a.root,container:!0,justify:"center",children:s.map((function(e){return Object(_.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(_.jsx)("div",{className:a.grid_card,children:Object(_.jsx)(Wt,{feedback:e})},e._id)},"innerGrid-".concat(e._id))}))},"outerGrid")]})]})})},Ut=Object(C.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)},image:{width:"100%",height:"300px"},buttonGroup:{display:"flex",justifyContent:"flex-start"},enrollButton:{marginTop:"5px",marginRight:"5px",backgroundColor:"purple"},editButton:{marginTop:"5px",marginRight:"5px",backgroundColor:"darkorange",color:"white","&:hover":{color:"black",backgroundColor:"orange"}},rateEventButton:{marginTop:"5px",marginRight:"5px",backgroundColor:"darkred",color:"white","&:hover":{backgroundColor:"red"}},viewFeedbackButton:{marginTop:"5px",marginRight:"5px",backgroundColor:"purple",color:"white","&:hover":{backgroundColor:"indigo"}},memberSection:{width:"50%"}}})),At=function(e){var t=Object(n.useContext)(P),a=Object(o.h)().id,c=Ut(),s=Object(o.g)(),i=Object(n.useState)(),l=Object(p.a)(i,2),j=l[0],b=l[1],x=Object(n.useState)(!0),m=Object(p.a)(x,2),O=m[0],f=m[1],v=Object(n.useState)(),y=Object(p.a)(v,2),w=y[0],C=y[1],S=Object(n.useState)(),N=Object(p.a)(S,2),I=N[0],T=N[1],F=Object(n.useState)(!1),E=Object(p.a)(F,2),D=E[0],B=E[1],M=Object(n.useState)(!1),W=Object(p.a)(M,2),R=W[0],z=W[1],U=Object(n.useState)(!1),A=Object(p.a)(U,2),L=A[0],q=A[1],H=Object(n.useState)(""),J=Object(p.a)(H,2),Y=J[0],V=J[1],K=t.user;Object(n.useEffect)((function(){X()}),[a]);var Q=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(K._id,j._id);case 2:200===(t=e.sent).status?(b(t.data.data),V("Registered in Event"),q(!0)):412===t.status?(console.log(t.data.message),V(t.data.message),q(!0)):500===t.status&&(console.log(t.data.errors),V("Internal Server Error"),q(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,tt(a);case 3:if(200!==(t=e.sent).status){e.next=16;break}if(b(t.data.data),T(rt(t.data.data.from,t.data.data.to)),!((n=t.data.data.publicFiles).length>0)){e.next=13;break}return e.next=11,Nt(n[0]._id);case 11:200===(r=e.sent).status?(c=r.data.data.path,C(c)):500===r.status&&(console.log(r.data.errors),V("Could not fetch File"),q(!0));case 13:f(!1),e.next=17;break;case 16:t.message?(V(t.message),q(!0)):console.log(t.errors);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(r.a.Fragment,{children:O?Object(_.jsx)(de.a,{}):Object(_.jsxs)("div",{children:[L&&Object(_.jsx)(G,{open:L,messageContent:Y,setMessagePopupState:q}),w&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("img",{className:c.image,src:"".concat(k,"/").concat(w),alt:"event"}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}),Object(_.jsx)(g.a,{container:!0,justifyContent:"center",spacing:5,alignItems:"center",children:Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(Et,{event:j})},"club-info")}),Object(_.jsxs)(g.a,{container:!0,item:!0,className:c.buttonGroup,children:[!j.participants.includes(K._id)&&"participant"===K.role&&I<2&&Object(_.jsx)(h.a,{variant:"contained",className:c.enrollButton,onClick:Q,startIcon:Object(_.jsx)(Ot.a,{}),children:"Register"}),"admin"===K.role&&-1===I&&Object(_.jsx)(h.a,{variant:"contained",className:c.editButton,onClick:function(){s.push("/event/new/".concat(j.clubId,"/").concat(j._id))},startIcon:Object(_.jsx)(yt.a,{}),children:"Edit"}),"participant"===K.role&&2===I&&Object(_.jsx)(h.a,{variant:"contained",className:c.rateEventButton,onClick:function(){B(!D)},startIcon:Object(_.jsx)(Pt.a,{}),children:"Rate Event"}),"admin"===K.role&&2===I&&Object(_.jsx)(h.a,{variant:"contained",className:c.viewFeedbackButton,onClick:function(){z(!R)},startIcon:Object(_.jsx)(Pt.a,{}),children:"View Feedbacks"})]}),D&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("br",{}),Object(_.jsx)(Te.a,{children:Object(_.jsx)(g.a,{item:!0,container:!0,children:Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(Mt,{eventId:j._id})})})})]}),Object(_.jsx)("br",{}),Object(_.jsx)(g.a,{container:!0,item:!0,className:c.memberSection,justifyContent:"start",children:Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(Ze,{ids:j.participants,titleText:"Participants",emptyText:"Register Now!"})})}),R&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("br",{}),Object(_.jsx)(Te.a,{children:Object(_.jsx)(g.a,{item:!0,container:!0,children:Object(_.jsx)(g.a,{item:!0,xs:12,children:Object(_.jsx)(zt,{eventId:j._id})})})})]})]})})},Lt=Object(C.a)((function(e){return Object(ge.a)({root:{flexGrow:1,display:"flex",justifyContent:"center"},control:{padding:e.spacing(2)},grid_card:{padding:"10px"}})})),qt=function(e){var t=Lt(),a=e.ids,r=Object(n.useState)(),c=Object(p.a)(r,2),s=c[0],i=c[1],l=Object(n.useState)(!0),j=Object(p.a)(l,2),b=j[0],x=j[1],m=Object(n.useState)(!1),O=Object(p.a)(m,2),f=O[0],v=O[1],y=Object(n.useState)(""),w=Object(p.a)(y,2),C=w[0],S=w[1],k=Object(o.g)();Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,et(a||[]);case 3:200===(t=e.sent).status?(i(t.data.data),x(!1)):500===t.status&&(console.log("Error",t.data.errors),S("Internal Server Error"),v(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var N=function(e){k.push("/event/".concat(e))};return Object(_.jsx)("div",{children:b?Object(_.jsx)(de.a,{}):Object(_.jsxs)(_.Fragment,{children:[f&&Object(_.jsx)(G,{open:f,messageContent:C,setMessagePopupState:v}),Object(_.jsx)("div",{children:Object(_.jsx)(g.a,{className:t.root,container:!0,justify:"center",children:s.map((function(e){return Object(_.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(_.jsx)("div",{className:t.grid_card,children:Object(_.jsx)(h.a,{onClick:function(){N(e._id)},children:Object(_.jsx)(jt,{event:e,onClick:function(){N(e._id)}})})},e.id)},"innerGrid-".concat(e._id))}))},"outerGrid")})]})})},Ht=function(e){var t=Object(n.useContext)(P).user.registeredEvents;return Object(_.jsx)(r.a.Fragment,{children:t.length>0?Object(_.jsx)(qt,{ids:t}):Object(_.jsx)("h4",{children:"You have no registered events!"})})};var Jt=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(D,{children:Object(_.jsx)(i.a,{children:Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:"/signup",exact:!0,component:z}),Object(_.jsx)(o.b,{path:"/signin",exact:!0,component:he}),Object(_.jsx)(Oe,{path:"/clubs",exact:!0,component:function(){return Object(_.jsx)(be,{component:function(){return Object(_.jsx)(ze,{})}})}}),Object(_.jsx)(Oe,{path:"/club/form/:id",exact:!0,component:function(){return Object(_.jsx)(be,{component:function(){return Object(_.jsx)(Je,{})}})}}),Object(_.jsx)(Oe,{path:"/club/:id",exact:!0,component:function(){return Object(_.jsx)(be,{component:function(){return Object(_.jsx)(Ct,{})}})}}),Object(_.jsx)(Oe,{path:"/event/new/:clubId/:eventId",exact:!0,component:function(){return Object(_.jsx)(be,{component:function(){return Object(_.jsx)(Tt,{})}})}}),Object(_.jsx)(Oe,{path:"/event/:id",exact:!0,component:function(){return Object(_.jsx)(be,{component:function(){return Object(_.jsx)(At,{})}})}}),Object(_.jsx)(Oe,{path:"/user/events",exact:!0,component:function(){return Object(_.jsx)(be,{component:function(){return Object(_.jsx)(Ht,{})}})}})]})})})})},Yt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,234)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Jt,{})}),document.getElementById("root")),Yt()}},[[154,1,2]]]);
//# sourceMappingURL=main.90af87a0.chunk.js.map